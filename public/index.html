<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <title>redis</title>
  <link rel="stylesheet" href="./layui/css/layui.css">
  </head>
  <body>
  <div class="layui-container layui-col-space10">
      <div class="layui-row layui-col-space10 layui-row-space10">
      <div class="layui-col-md3" style="background-color: #2F4056;">
          <div id="key-list">
              <button class="layui-btn" v-on:click="refreshKeys">
                  刷新
              </button>
              <ul>
                  <li
                      is="key-item"
                      v-for="(key, index) in keys"
                      v-bind:key="key.type"
                      v-bind:name="key.name"
                      v-on:remove="remove(key.name)"
                      v-on:get="getKey(key.name)"
                      ></li>
              </ul>
          </div>
      </div>
      <div class="layui-col-md8 layui-bg-green">
          <div class="layui-tab" id="mainTab" >
          <ul class="layui-tab-title">
      <li
          is="key-tab"
          v-for="(v,key) in keys"
          v-bind:name="v.name"
          v-on:remove="keys.splice(key,1)"
          ></li>
          </ul>
          <div class="layui-tab-content" style="height: 300px;">
      <div
          is="key-info"
          v-for="(key, index) in keys"
          v-bind:context="key.data"
          ></div>
          </div>

      </div>
      </div>

      <div class="layui-row" id="exec">
        <input v-model="cmd"
               style="background-color: #d2d2d2;"
               v-on:keyup.enter="exec"
               placeholder="exec command"
               >
               <textarea style="background-color: #d2d2d2;width: 100%; height: 150px;" v-model="result"
               placeholder="result will show here"
               >
               </textarea>
      </div>
      </div>
  </div>
  <script src="./layui/layui.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="./common.js"></script>
  </body>
  </html>
